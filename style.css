:root {
  --sidebar-width: 260px;
  --header-height: 54px;
  --bg-main: #151c28;
  --bg-sidebar: #1e293b;
  --bg-content: #222e46;
  --bg-card: #1a2539;
  --bg-hover: #24324a;
  --text-primary: #e1eaff;
  --text-secondary: #a6b3cd;
  --accent-primary: #3b82f6;
  --accent-secondary: #fbbf24;
  --accent-done: #22c55e;
  --border-color: #25344c;
}

body {
  font-family: 'Inter', sans-serif;
  margin: 0;
  background: var(--bg-main);
  color: var(--text-primary);
}

.app-header {
  position: fixed;
  top: 0; left: 0;
  width: 100vw;
  height: var(--header-height);
  background: var(--bg-content);
  border-bottom: 1px solid var(--border-color);
  display: flex;
  align-items: center;
  justify-content: space-between;
  z-index: 1001;
  padding: 0 44px 0 var(--sidebar-width);
}

.header-title {
  font-weight: bold;
  font-size: 1.15rem;
  color: var(--text-primary);
}

/* ----- SIDEBAR ------ */
.projects-sidebar {
  position: fixed;
  top: var(--header-height);
  left: 0;
  height: calc(100vh - var(--header-height));
  width: var(--sidebar-width);
  background: var(--bg-sidebar);
  border-right: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
  z-index: 100;
}

.sidebar-header {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 24px 20px 14px 20px;
}

.user-avatar {
  width: 44px; height: 44px;
  background: var(--accent-primary);
  border-radius: 50%;
  font-weight: bold; font-size: 19px;
  color: #fff;
  display: flex; align-items: center; justify-content: center;
}

.user-info {display: flex; flex-direction: column; font-size: 17px; font-weight: bold; color: var(--text-primary);}
.user-name {font-size: 17px;}

.main-nav { padding: 0 12px; }
.main-nav ul { list-style: none; margin: 0; padding: 0;}
.main-nav .nav-item { margin-bottom: 5px; }
.main-nav .nav-item > a {
  display: flex; align-items: center; gap: 13px;
  padding: 10px 22px 10px 24px; border-radius: 8px;
  color: var(--text-secondary); text-decoration: none;
  font-size: 16px; font-weight: 500;
  transition: background 0.19s, color 0.22s;
}
.main-nav .nav-item.active > a,
.main-nav .nav-item > a:hover {
  background: var(--accent-primary);
  color: #fff;
}
.icon {font-size: 21px;}
.arrow {margin-left: auto; transition: transform .2s;}
.arrow.opened {transform: rotate(180deg);}
.cascade-content {background: var(--bg-hover);margin: 7px 8px 4px 10px;padding: 12px 9px 10px 10px;border-radius: 10px;}
.cascade-parent .arrow.opened{transform:rotate(180deg);}
.cascade-parent .cascade-content.view-hidden{display:none;}
.project-form-modern {display: flex; gap: 7px;}
#project-input {flex:1;border:1px solid var(--border-color);padding:7px;border-radius:5px;color:var(--text-primary);background:var(--bg-content);}
#project-form button {background:var(--accent-primary);border:none;color:#fff;font-size:18px;border-radius:5px;padding:0 10px;cursor:pointer;}
.project-list-modern {margin-top:7px;list-style:none;padding:0;}
.project-list-modern li {padding:10px;border-radius:6px;font-size:16px;margin-bottom:7px;cursor: pointer;transition: background 0.14s;}
.project-list-modern li.active-project, .project-list-modern li:hover {background: var(--accent-primary);color:#fff;}
.sidebar-footer {margin-top: auto; padding:18px 20px; border-top: 1px solid var(--border-color);}
.action-btn {width:100%;padding:13px 0;font-size:15px;border-radius:7px;border:1px solid var(--border-color);background:var(--bg-main);font-weight:600;color:var(--text-primary);cursor:pointer;display:flex;align-items:center;justify-content:center;gap:9px;}
.action-btn:hover{background:var(--bg-hover);}

/* ----------- MAIN CONTENT & VIEWS ------------- */
.main-content {
  margin-left: var(--sidebar-width);
  margin-top: var(--header-height);
  min-height: calc(100vh - var(--header-height));
  width: 100%;
  background: var(--bg-main);
  padding: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Só mostra a view ativa */
.main-view { display: none; width: 100%;}
.main-view:not(.view-hidden) {
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Container central para cada tela */
.container {
  width: 100%;
  max-width: 1060px;
  padding: 32px 26px 40px 26px;
  box-sizing: border-box;
  margin: 0 auto;
}
h1, #current-project-title {
  margin-top: 0;
  margin-bottom: 18px;
  font-size: 2.08rem;
  font-weight: 700;
}
#task-counter {margin-bottom: 17px;}
#task-form {margin-bottom: 23px;}

#task-form {
  display:flex;
  gap:12px;
  justify-content: center;
}
#task-form input,#task-form select {border:1px solid var(--border-color);border-radius:6px;padding:10px 14px;font-size:15px;background:var(--bg-content);color:var(--text-primary);}
.add-btn {background:var(--accent-primary);color:#fff;border:none;border-radius:7px;font-weight:700;padding:0 22px;font-size:17px;cursor:pointer;}
.add-btn:hover{background:var(--accent-secondary);}

/* ------ KANBAN ----------- */
#kanban-board {
  display: flex;
  justify-content: center;
  gap: 30px;
  margin-bottom: 35px;
  margin-top: 0;
}
.kanban-column {
  background: var(--bg-card);
  border-radius: 19px;
  padding: 24px 14px 32px 14px;
  min-width: 270px;
  max-width: 340px;
  box-shadow: 0 4px 14px 1px rgba(56,78,173,0.08);
  display: flex;
  flex-direction: column;
}
.kanban-column h3 {font-size:1.26rem;font-weight:700;margin-bottom:16px;color:var(--accent-primary);}
.tasks-container{flex:1 1 auto;min-height:100px;display:flex;flex-direction: column;gap: 18px;}
.task-card {
  background: var(--bg-content);
  border-radius:12px;
  padding:14px 14px 10px 14px;
  box-shadow: 0 4px 12px 0 rgba(62,105,224,0.13);
  margin-bottom:0;
  display: flex;
  flex-direction: column;
  gap: 9px;
  position: relative;
  font-size: 16px;
  font-weight: 500;
  border-left: 8px solid var(--accent-primary);
  cursor: grab;
  transition: box-shadow .15s, background .12s, border-left-color .19s;
}
.task-card.dragging { opacity: 0.68; background: #bebbfa20; box-shadow:0 2px 32px 8px rgba(56,78,224,0.15);}
.task-title {display: flex; align-items: center; gap:10px; font-weight: 700;font-size:18px;}
.task-priority-indicator{width:15px;height:15px;border-radius:50%;display:inline-block;border:2px solid #eee;}
.task-priority-low   { background: #22c55e; border-color: #22c55e;}
.task-priority-média, .task-priority-medium { background: #fbbf24; border-color: #fbbf24;}
.task-priority-high  { background: #ef4444; border-color: #ef4444;}
.task-priority-label {font-size:12px; font-weight:700;background:rgba(59,130,246,0.15);color:var(--text-primary);border-radius:5px;padding:2px 8px;text-transform: uppercase;}
.task-meta {font-size:13px; color: var(--text-secondary);margin-bottom:1px;}
.task-actions {position:absolute;top:12px;right:16px;display:flex;gap:10px;opacity:.95;}
.task-actions button {background:none;border:none;color:var(--text-secondary);cursor:pointer;font-size:18px;border-radius:7px;padding:5px;transition:background .16s,color .16s;}
.task-actions button:hover { color: var(--accent-primary); background:var(--bg-hover);}
.kanban-column.drag-hover {background:rgba(59,130,246,0.11);box-shadow:0 4px 38px 5px #3b82f668;border:2px solid var(--accent-primary);}

/* ------ DASHBOARD -------- */
#view-dashboard .container {margin-top: 38px; margin-bottom: 0; padding-bottom: 27px;}
.dashboard-analytics {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 40px;
  margin-bottom: 24px;
}
.dashboard-cards-top {
  display: flex;
  flex-direction: row;
  gap: 26px;
  justify-content: center;
}
.dashboard-card {
  background: var(--bg-content);
  border-radius:11px;
  box-shadow: 0 2px 10px rgba(60,60,100,0.07);
  padding: 16px 12px 11px 15px;
  align-items: flex-start;
  font-size: 15px;
  min-width: 115px;
  margin-bottom: 0;
}
.dashboard-card .icon {font-size:26px;color:var(--accent-primary);}
.dashboard-card b {font-size:18px;margin-top:2px;}
.dashboard-graph-area {
  margin-top: 17px;
  width: 100%;
  max-width: 290px;
  background: var(--bg-content);
  border-radius: 13px;
  padding: 17px 0;
  display: flex;
  flex-direction: column;
  align-items: center;
}
#dashboard-pie {max-width: 250px;}
#dashboard-empty-pie {margin-top:11px;color:var(--text-secondary);}
.dashboard-legend {margin-top: 13px;display: flex;justify-content:center;gap: 13px;font-size:15px;}
.dashboard-legend span {display: inline-flex;align-items:center;gap:4px;}
.dashboard-legend i{width:11px;height:11px;display:inline-block;border-radius:2px;margin-right:3px;}
.dashboard-legend .afazer {background:#3b82f6;}
.dashboard-legend .andamento {background:#fbbf24;}
.dashboard-legend .concluido {background:#22c55e;}

@media (max-width: 1000px) {
  .container, #kanban-board { max-width: 98vw; }
  .dashboard-cards-top { flex-direction: column; gap: 17px; }
  .kanban-column{ min-width:90vw; max-width:98vw;}
  #kanban-board { gap:24px; }
}

/* ------ MODAL -------- */
.task-edit-modal {position: fixed; left: 0; top:0;width: 100vw; height: 100vh; z-index: 9999; background: rgba(18,21,35,0.55); display: flex;align-items:center;justify-content:center;}
.task-edit-modal .modal-content {background: var(--bg-content); border-radius: 15px; box-shadow: 0 8px 32px rgba(40,60,110,0.22); padding: 24px 24px 15px 24px; width:370px;max-width:97vw;display:flex;flex-direction:column;gap:10px;}
.task-edit-modal label{font-weight:600;text-align:left;margin-bottom:2px;}
.task-edit-modal .modal-content input,.task-edit-modal .modal-content textarea,.task-edit-modal .modal-content select {width:100%;margin-bottom:6px;padding:8px 10px;border-radius:7px;border:1px solid var(--border-color);font-size:15px;background:var(--bg-main);color:var(--text-primary);}
.task-edit-modal .actions {display: flex; gap: 12px; margin-top: 8px;}
.task-edit-modal button {border: none; padding: 7px 16px;border-radius: 6px; font-weight: 600;background: var(--accent-primary); color: #fff; cursor: pointer; font-size: 15px;}
.task-edit-modal button:last-child {background: var(--bg-hover); color: var(--text-secondary);}
.comment-list {max-height:110px;overflow-y:auto;margin-bottom:7px;}
.comment-row {font-size:13px;color:var(--text-primary);background:var(--bg-hover);border-radius:5px;margin-bottom:7px;padding:5px 8px;}
.comment-author { font-weight:700; margin-right:4px;}

.settings-container {max-width:410px;}
.settings-form .form-group{margin-bottom:17px;}
.settings-form label{font-size:14px;font-weight:600;display:block;margin-bottom:6px;}
.settings-form input{width:100%;padding:10px;border-radius:7px;border:1px solid var(--border-color);font-size:15px;background:var(--bg-main);color:var(--text-primary);}
.save-btn{margin-top:19px;padding:12px 0;border-radius:7px;width:100%;font-weight:700;font-size:17px;background:var(--accent-primary);color:#fff;border:none;}
.avatar-upload{display:flex;align-items:center;gap:11px;margin-bottom:14px;}
.profile-avatar-img{width:48px;height:48px;border-radius:50%;background:#d1e4fd;border:2px solid var(--accent-primary);}
.avatar-upload-label{background:var(--bg-hover);border-radius:8px;padding:5px 14px;font-size:14px;cursor:pointer;color:var(--accent-primary);font-weight:600;margin-left:12px;}
body {
  font-family: 'Inter', sans-serif;
  margin: 0;
  background: #151c28;
  color: #e1eaff;
}

.app-header {
  position: fixed; top: 0; left: 0; width: 100vw; height: 54px;
  background: #222e46;
  border-bottom: 1px solid #25344c;
  display: flex;
  align-items: center;
  justify-content: space-between;
  z-index: 1001;
  padding: 0 44px 0 260px;
}
.header-title {font-weight: 700; font-size: 1.15rem; color: #e1eaff;}
#theme-toggle-btn {
  background: none;
  border: none;
  cursor: pointer;
  margin-left:20px;
  font-size: 27px;
  color: #a6b3cd;
  display: flex; align-items: center;
  transition: color .22s;
}
#theme-toggle-btn:hover { color: #3b82f6; }

.task-actions button[title="Excluir"] {
  color: #ef4444 !important;
}
.task-actions button[title="Excluir"]:hover {
  background: #222 !important;
  color: #fff !important;
}

/* Só para garantir: */
.main-view { display: none; width: 100%; }
.main-view:not(.view-hidden) { display: flex; flex-direction: column; align-items: center; }

