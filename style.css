:root {
    --bg-main: #f4f7fa; --bg-sidebar: #ffffff; --bg-content-primary: #ffffff; --bg-content-secondary: #f4f7fa; --bg-hover: #eef2f7;
    --text-primary: #1e293b; --text-secondary: #64748b; --text-on-accent: #ffffff;
    --border-color: #e2e8f0; --shadow-color: rgba(100, 116, 139, 0.12);
    --accent-primary: #3b82f6; --accent-primary-hover: #2563eb; --accent-positive: #22c55e; --accent-negative: #ef4444;
}
body.dark-mode {
    --bg-main: #0f172a; --bg-sidebar: #1e293b; --bg-content-primary: #1e293b; --bg-content-secondary: #0f172a; --bg-hover: #334155;
    --text-primary: #f8fafc; --text-secondary: #94a3b8; --border-color: #334155; --shadow-color: rgba(0, 0, 0, 0.2);
}
body { font-family: 'Inter', sans-serif; background-color: var(--bg-main); color: var(--text-primary); margin: 0; height: 100vh; overflow: hidden; }
* { box-sizing: border-box; }
.app-container, #auth-view { width: 100%; height: 100vh; }
.main-content { flex-grow: 1; display: flex; flex-direction: column; overflow-y: auto; }
.main-view { width: 100%; height: 100%; display: flex; }
.view-hidden { display: none !important; }


#auth-view { display: flex; justify-content: center; align-items: center; }
.auth-layout { width: 100%; max-width: 960px; margin: 20px; display: flex; border-radius: 16px; overflow: hidden; background-color: var(--bg-content-primary); box-shadow: 0 10px 40px var(--shadow-color); }
.auth-panel { width: 50%; padding: 50px; }
.auth-form-panel { display: flex; flex-direction: column; justify-content: center; }
.auth-showcase-panel { background: linear-gradient(135deg, #1e3a8a, #3b82f6); color: white; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
.showcase-content .material-symbols-outlined { font-size: 80px; }
.showcase-content h3 { font-size: 28px; margin-top: 20px; }
.showcase-content p { max-width: 300px; opacity: 0.8; }
.auth-container h2 { text-align: left; margin: 0 0 8px 0; font-size: 28px; }
.auth-container p { text-align: left; margin: 0 0 30px 0; color: var(--text-secondary); }
.form-group { margin-bottom: 20px; }
.form-group label { display: block; font-size: 14px; font-weight: 500; margin-bottom: 8px; }
.form-group input { width: 100%; padding: 12px; border-radius: 6px; border: 1px solid var(--border-color); background-color: var(--bg-main); color: var(--text-primary); font-size: 16px; }
.save-btn { width: 100%; padding: 12px; font-size: 16px; background-color: var(--accent-primary); color: var(--text-on-accent); border: none; border-radius: 6px; cursor: pointer; transition: background 0.18s; }
.save-btn:hover { background: var(--accent-primary-hover); }
.auth-toggle-link { font-size: 14px; text-align: center; margin-top: 25px; }
.auth-toggle-link a { color: var(--accent-primary); text-decoration: none; font-weight: 500; }

@media (max-width: 768px) {.auth-showcase-panel {display:none;}.auth-panel{width:100%;}.auth-layout{max-width:420px;}}

.projects-sidebar { background-color: var(--bg-sidebar); width: 280px; flex-shrink: 0; display: flex; flex-direction: column; border-right: 1px solid var(--border-color); height:100vh;}
.sidebar-header { display: flex; align-items: center; gap: 12px; padding: 20px; border-bottom: 1px solid var(--border-color); }
.user-avatar { width: 36px; height: 36px; border-radius: 50%; background-color: var(--accent-primary); color: var(--text-on-accent); display: flex; align-items: center; justify-content: center; font-weight: bold; }
.sidebar-header span { font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

.main-nav { padding: 10px; }
.main-nav ul, .main-nav li { list-style: none; padding: 0; margin: 0; }
.main-nav .nav-item > a { display: flex; align-items: center; gap: 12px; padding: 10px; border-radius: 6px; text-decoration: none; color: var(--text-secondary); font-weight: 500; transition: all 0.2s; }
.main-nav .nav-item > a:hover { background-color: var(--bg-hover); color: var(--text-primary); }
.main-nav .nav-item.active > a { background-color: var(--accent-primary); color: var(--text-on-accent);}
.project-list-container { padding: 20px; border-top: 1px solid var(--border-color); flex-grow: 1; overflow-y: auto; }
.project-list-container h3 { font-size:12px;text-transform:uppercase;color:var(--text-secondary);margin: 0 0 10px 0; }
#project-form { display: flex; margin-bottom: 10px;}
#project-form input { flex-grow: 1; border: 1px solid var(--border-color); border-radius: 6px 0 0 6px; padding: 8px; font-size: 13px; background-color: var(--bg-main); color: var(--text-primary);}
#project-form button { border-radius: 0 6px 6px 0; border: 1px solid var(--accent-primary); background-color: var(--accent-primary); color: var(--text-on-accent); cursor: pointer; width: 36px; }
#project-list { list-style: none;}
#project-list li { display: flex; padding: 8px 10px; border-radius: 6px; margin-bottom: 2px; cursor: pointer; font-size: 14px; }
#project-list li:hover { background-color: var(--bg-hover);}
#project-list li.active-project { background-color: var(--accent-primary-hover); color: var(--text-on-accent);}
.sidebar-footer { padding: 10px; margin-top: auto; border-top: 1px solid var(--border-color); }
.action-btn { width: 100%; padding: 10px; border-radius: 6px; cursor: pointer; font-weight: 500; background-color: var(--bg-content-secondary); border: 1px solid var(--border-color); color: var(--text-primary); display: flex; align-items: center; justify-content: center; gap: 8px; }
.tasks-view { padding: 0; }
.container { display: flex; flex-direction: column; flex-grow: 1; padding: 25px 35px; overflow: hidden; }
#current-project-title { margin-bottom: 5px; font-size: 32px; font-weight: 700; }
#task-counter { margin-top: 0; margin-bottom: 25px; color: var(--text-secondary); font-size: 16px; }
#task-form { display: flex; gap: 10px; margin-bottom: 25px; flex-wrap: wrap; }
#task-input { flex-grow: 1; min-width: 200px; }
#task-form input, #task-form select { padding: 10px; border: 1px solid var(--border-color); border-radius: 6px; background-color: var(--bg-content-primary); color: var(--text-primary);}
.add-btn { padding: 10px 15px; background-color: var(--accent-primary); color: var(--text-on-accent); border: none; border-radius: 6px; font-weight: bold; cursor: pointer;}
#kanban-board { display: grid; grid-template-columns: repeat(3,1fr); gap: 20px; flex-grow: 1; overflow: hidden; min-height: 400px; padding: 5px;}
.kanban-column {background-color:var(--bg-content-secondary);border-radius:12px;display:flex;flex-direction:column;border:1px solid var(--border-color);overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,0.1);}
.kanban-column h3{padding:16px 20px;margin:0;color:var(--text-primary);border-bottom:1px solid var(--border-color);font-size:16px;font-weight:600;background-color:var(--bg-content-primary);display:flex;justify-content:space-between;align-items:center;}
.task-count{font-size:14px;color:var(--text-secondary);font-weight:400;}
.tasks-container{flex-grow:1;padding:16px;overflow-y:auto;min-height:200px;}

.task-card{position:relative;padding:0;background-color:var(--bg-content-primary);border-radius:8px;margin-bottom:12px;box-shadow:0 2px 4px rgba(0,0,0,0.1);cursor:grab;border:1px solid var(--border-color);transition:all 0.2s ease;overflow:hidden;}
.task-card:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.13); transform:translateY(-2px);}
.task-card.dragging{opacity:0.7;transform:rotate(5deg);}
.task-card:active{cursor:grabbing;}
.task-card.overdue-task{border-left:4px solid #ef4444;background:linear-gradient(90deg,rgba(239,68,68,0.09) 0%,transparent 70%);}
.task-card.due-soon-task{border-left:4px solid #f59e0b;background:linear-gradient(90deg,rgba(245,158,11,0.09) 0%,transparent 70%);}
.priority-indicator{position:absolute;top:0;right:0;width:4px;height:100%;border-radius:0 8px 8px 0;}
.task-content{padding:16px 16px 8px 16px;}
.task-text{font-size:14px;font-weight:500;color:var(--text-primary);margin-bottom:12px;line-height:1.4;word-break:break-word;}
.task-meta{display:flex;flex-wrap:wrap;gap:8px;align-items:center;}
.priority-badge{font-size:10px;font-weight:600;color:white;padding:2px 6px;border-radius:4px;text-transform:uppercase;letter-spacing:0.5px;}
.due-date{font-size:11px;color:var(--text-secondary);display:flex;align-items:center;gap:4px;padding:2px 6px;border-radius:4px;background-color:var(--bg-content-secondary);}
.due-date.overdue{background-color:rgba(239,68,68,0.14);color:#ef4444;font-weight:600;}
.due-date.due-soon{background-color:rgba(245,158,11,0.15);color:#f59e0b;font-weight:600;}
.task-actions{position:absolute;top:10px;right:12px;display:flex;gap:5px;opacity:0;transition:opacity 0.19s;}
.task-card:hover .task-actions{opacity:1;}
.task-actions button{width:24px;height:24px;border:none;border-radius:4px;background-color:rgba(0,0,0,0.07);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:13px;transition:background-color 0.2s;}
.task-actions .edit-btn:hover{background-color:rgba(59,130,246,0.17);}
.task-actions .delete-btn:hover{background-color:rgba(239,68,68,0.16);}
.placeholder-view { padding: 40px; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; color: var(--text-secondary);}
.placeholder-view h1 { font-size: 28px; margin-bottom: 10px; color: var(--text-primary); }
.placeholder-view p { font-size: 16px; max-width: 400px; }

#notification-container { position: fixed; bottom: 20px; right: 20px; z-index: 2000;}
.toast { padding: 12px 20px; border-radius: 8px; color: white; font-weight: bold; box-shadow: 0 4px 12px rgba(0,0,0,0.14); }
.toast.success { background-color: var(--accent-positive, #22c55e); }
.toast.error { background-color: var(--accent-negative, #ef4444); }

/* === MODAL DE EDIÇÃO CENTRALIZADO E BONITO === */
.task-modal {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    z-index: 99999;
    background: rgba(30,41,59,0.48);
    display: flex; 
    align-items: center;
    justify-content: center;
    animation: fade-in 0.22s ease;
}
@keyframes fade-in { from{opacity:0;} to{opacity:1;} }

.modal-content {
    background: var(--bg-content-primary);
    width: 93vw;
    max-width: 430px;
    border-radius: 16px;
    box-shadow: 0 4px 40px rgba(30,41,59,0.22);
    display: flex;
    flex-direction: column;
    padding: 0;
    margin: 0;
    animation: slideUp 0.19s ease;
}
@keyframes slideUp { from {transform: translateY(35px); opacity:0;} to{transform:translateY(0);opacity:1;}}

.modal-header { padding: 20px 26px 10px 26px; border-bottom: 1px solid var(--border-color); display: flex; align-items: center; justify-content: space-between;}
.modal-header h3 { font-size: 20px; color: var(--text-primary); margin: 0;}
.close-modal { background:none; border:none; font-size:24px; color:var(--text-secondary); cursor:pointer; border-radius:50%; width:32px; height:32px; display:flex; align-items:center; justify-content:center; transition:background 0.2s;}
.close-modal:hover { background: var(--bg-hover);}
.modal-body { padding: 22px 26px 10px 26px;}
.modal-body .form-group { margin-bottom: 18px;}
.modal-body label { font-size:14px; color:var(--text-primary); font-weight:600; margin-bottom:5px; display:block;}
.modal-body input, .modal-body select { width:100%; padding:11px 9px; border-radius:6px; border: 1px solid var(--border-color); background:var(--bg-main); margin-top:2px; margin-bottom:0; font-size:15px; color:var(--text-primary); font-family:inherit;}
.modal-footer {border-top:1px solid var(--border-color); padding:18px 26px; display:flex; justify-content:flex-end; gap:10px; background:transparent;}
.cancel-btn { padding:9px 18px; background:var(--bg-content-secondary); color:var(--text-primary); border-radius:6px; border:1px solid var(--border-color); font-weight:500; cursor:pointer; transition:background 0.15s;}
.cancel-btn:hover {background:var(--bg-hover);}
.save-btn {background:var(--accent-primary);color:white;border:none;border-radius:6px;padding:9px 20px;font-weight:600;font-size:15px;cursor:pointer;transition:background 0.18s;}
.save-btn:hover{background:var(--accent-primary-hover);}
@media (max-width:768px){.modal-content{width:96vw; margin:12px 0;}}
@media (max-width:768px){#kanban-board{grid-template-columns:1fr;gap:15px;}}
